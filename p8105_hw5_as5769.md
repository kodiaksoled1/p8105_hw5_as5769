Homework 5
================
Kodiak Soled
11/2/2019

## Problem 1

#### Read in Data

First, I read in the missing data.

``` r
set.seed(10)

iris_with_missing = 
  iris %>% 
  map_df(~replace(.x, sample(1:150, 20), NA)) %>%
  mutate(Species = as.character(Species))
```

#### Create a Function to Address Missing Data

In order to fill in the missing data, I first needed to write a
`function` that:

  - Took a vector as an argument
  - `Replace`d missing values:
      - of numeric variables with the mean of non-missing values
      - of character variables with `"virginica"`
  - Returned the resulting vector

<!-- end list -->

``` r
tidy_iris = function(x) {
  
  if (!is.numeric(x) & !is.character(x)) {
    stop("Argument x should be numeric or character")
  } else if (is.character(x)) {
    x = replace(x, is.na(x) == TRUE, "virginica")
  } else if (is.numeric(x)) {
    mean_x = mean(x, na.rm = TRUE)
    x = replace(x, is.na(x) == TRUE, mean_x)
  }
  
}
```

#### Create a Map Statement

Then, I applied this function to the `iris_with_missing` dataset using a
`map` statement and `bind_rows` in order to combine the 5 datasets into
a single one:

``` r
output = 
  map(iris_with_missing, tidy_iris) %>%
  bind_rows()
```

#### Table of New Iris Data

Here is a reader-friendly table the first 30 observations of the
replaced iris dataset:

``` r
head(output, n = 30) %>%
  janitor::clean_names() %>%
  knitr::kable(digits = 1, caption = "Iris Dataset (First 30 Observations)") %>%
  kable_styling(bootstrap_options = c("striped", "condensed", font_size = 12))
```

<table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;">

<caption>

Iris Dataset (First 30 Observations)

</caption>

<thead>

<tr>

<th style="text-align:right;">

sepal\_length

</th>

<th style="text-align:right;">

sepal\_width

</th>

<th style="text-align:right;">

petal\_length

</th>

<th style="text-align:right;">

petal\_width

</th>

<th style="text-align:left;">

species

</th>

</tr>

</thead>

<tbody>

<tr>

<td style="text-align:right;">

5.1

</td>

<td style="text-align:right;">

3.5

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.9

</td>

<td style="text-align:right;">

3.0

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.7

</td>

<td style="text-align:right;">

3.2

</td>

<td style="text-align:right;">

1.3

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.6

</td>

<td style="text-align:right;">

3.1

</td>

<td style="text-align:right;">

1.5

</td>

<td style="text-align:right;">

1.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.0

</td>

<td style="text-align:right;">

3.6

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.4

</td>

<td style="text-align:right;">

3.9

</td>

<td style="text-align:right;">

1.7

</td>

<td style="text-align:right;">

0.4

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.8

</td>

<td style="text-align:right;">

3.4

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

0.3

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.0

</td>

<td style="text-align:right;">

3.4

</td>

<td style="text-align:right;">

1.5

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.4

</td>

<td style="text-align:right;">

2.9

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.9

</td>

<td style="text-align:right;">

3.1

</td>

<td style="text-align:right;">

3.8

</td>

<td style="text-align:right;">

0.1

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.4

</td>

<td style="text-align:right;">

3.1

</td>

<td style="text-align:right;">

1.5

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.8

</td>

<td style="text-align:right;">

3.4

</td>

<td style="text-align:right;">

1.6

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.8

</td>

<td style="text-align:right;">

3.1

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

0.1

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.3

</td>

<td style="text-align:right;">

3.0

</td>

<td style="text-align:right;">

3.8

</td>

<td style="text-align:right;">

0.1

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.8

</td>

<td style="text-align:right;">

4.0

</td>

<td style="text-align:right;">

3.8

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.7

</td>

<td style="text-align:right;">

4.4

</td>

<td style="text-align:right;">

1.5

</td>

<td style="text-align:right;">

0.4

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.4

</td>

<td style="text-align:right;">

3.9

</td>

<td style="text-align:right;">

1.3

</td>

<td style="text-align:right;">

0.4

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.1

</td>

<td style="text-align:right;">

3.5

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

1.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.7

</td>

<td style="text-align:right;">

3.8

</td>

<td style="text-align:right;">

1.7

</td>

<td style="text-align:right;">

0.3

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.1

</td>

<td style="text-align:right;">

3.8

</td>

<td style="text-align:right;">

1.5

</td>

<td style="text-align:right;">

1.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.4

</td>

<td style="text-align:right;">

3.4

</td>

<td style="text-align:right;">

1.7

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.1

</td>

<td style="text-align:right;">

3.7

</td>

<td style="text-align:right;">

1.5

</td>

<td style="text-align:right;">

0.4

</td>

<td style="text-align:left;">

virginica

</td>

</tr>

<tr>

<td style="text-align:right;">

4.6

</td>

<td style="text-align:right;">

3.6

</td>

<td style="text-align:right;">

1.0

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.8

</td>

<td style="text-align:right;">

3.3

</td>

<td style="text-align:right;">

3.8

</td>

<td style="text-align:right;">

0.5

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.8

</td>

<td style="text-align:right;">

3.4

</td>

<td style="text-align:right;">

1.9

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

virginica

</td>

</tr>

<tr>

<td style="text-align:right;">

5.0

</td>

<td style="text-align:right;">

3.0

</td>

<td style="text-align:right;">

3.8

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.0

</td>

<td style="text-align:right;">

3.4

</td>

<td style="text-align:right;">

1.6

</td>

<td style="text-align:right;">

0.4

</td>

<td style="text-align:left;">

virginica

</td>

</tr>

<tr>

<td style="text-align:right;">

5.2

</td>

<td style="text-align:right;">

3.5

</td>

<td style="text-align:right;">

1.5

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

5.8

</td>

<td style="text-align:right;">

3.4

</td>

<td style="text-align:right;">

1.4

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

<tr>

<td style="text-align:right;">

4.7

</td>

<td style="text-align:right;">

3.2

</td>

<td style="text-align:right;">

1.6

</td>

<td style="text-align:right;">

0.2

</td>

<td style="text-align:left;">

setosa

</td>

</tr>

</tbody>

</table>

## Problem 2

#### Load in Data files

In order to create a tidy dataframe containing data from all
participants, including the subject ID, arm, and observations over time,
I first loaded in the 20 seperate datafiles using `list.files` (created
a dataframe with the file names):

``` r
study_data_2 = 
  list.files(path = "./data_hw5", full.names = FALSE) %>%
  tibble::enframe(name = NULL)
study_data_2
```

    ## # A tibble: 20 x 1
    ##    value     
    ##    <chr>     
    ##  1 con_01.csv
    ##  2 con_02.csv
    ##  3 con_03.csv
    ##  4 con_04.csv
    ##  5 con_05.csv
    ##  6 con_06.csv
    ##  7 con_07.csv
    ##  8 con_08.csv
    ##  9 con_09.csv
    ## 10 con_10.csv
    ## 11 exp_01.csv
    ## 12 exp_02.csv
    ## 13 exp_03.csv
    ## 14 exp_04.csv
    ## 15 exp_05.csv
    ## 16 exp_06.csv
    ## 17 exp_07.csv
    ## 18 exp_08.csv
    ## 19 exp_09.csv
    ## 20 exp_10.csv
